Feature: Test Output Adjustment or editing possibilities for automatically calculated Disposal Fees

#Scenario: Check Disp Fees after adjustment Disposal Fees in MTP Fee
@StepDef
@Context
Scenario: A TPAM existed in datatabse
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/fund/create"
		And I maximize the window
		And I wait 6 seconds
		And nameText can be located by css selector "#nameId input[role='textbox']"
		And codeText can be located by css selector "#codeId input[role='textbox']"
		And FundMUDrp can be located by css selector "#fundMgrUnitArea .dx-dropdowneditor-icon"
		And fundMI can be located by css selector "#fundManagerUnitId [aria-haspopup]"
		And fundMIValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(4) > .dx-item-content.dx-list-item-content"
		And PortMU can be located by css selector "#portfolioManagerUnitId .dx-dropdowneditor-icon"
		And fundDomicile can be located by id "fundDomicileId"
		And fundCurrency can be located by id "fundCurrencyId"
		And launchDate can be located by css selector "#launchDateId [aria-haspopup]"
		And closingDate can be located by css selector "#closingDateId [aria-haspopup]"
		And businessLine can be located by css selector "#businessLineId [aria-haspopup]"
		And assetClass can be located by css selector "#assetClassId [aria-haspopup]"
		And clientType can be located by css selector "#clientTypeId [aria-haspopup]"
        And productType can be located by css selector "#productTypeId [aria-haspopup]"
		And productCategory can be located by css selector "#productCategoryREId [aria-haspopup]"
        And predominant can be located by css selector "#predominantRESectorId [aria-haspopup]"
		And region can be located by css selector "#regionId [aria-haspopup]"
		And portfolioManagerPerson can be located by css selector "#pm-name input[role='textbox']"		
		And portfolioManagerEmail can be located by css selector "#pm-email input[role='textbox']"
		And fundManagerPerson can be located by css selector "div#fm-name > .dx-editor-outlined.dx-show-invalid-badge.dx-textbox.dx-texteditor.dx-texteditor-empty.dx-validator.dx-visibility-change-handler.dx-widget input[role='textbox']"		
		And fundManagerEmail can be located by css selector "div#fm-email > .dx-editor-outlined.dx-show-invalid-badge.dx-textbox.dx-texteditor.dx-texteditor-empty.dx-validator.dx-visibility-change-handler.dx-widget input[role='textbox']"
		And ruCode can be located by css selector "#ruCodeId [type]"
		And fundCon can be located by css selector "dx-check-box#fundConsolidationCheckbox  .dx-checkbox-icon"
		And active can be located by css selector "dx-check-box#active-fund  .dx-checkbox-icon"
		And saveBtn can be located by id "saveBtn"
#Get value for dropdown:
		And directPAM can be located by css selector "div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
		And slamDE can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
		And fundDomicileValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And fundCurrencyValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And launchDateValue can be located by css selector ".dx-calendar-today span"
		And businessLinevalue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
		And assetClassValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And clientTypeValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And productTypeValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And productCategoryValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And predominantValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(3) > .dx-item-content.dx-list-item-content"
		And regionValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
#Action:		
		When I click nameText
		And I enter "Check Disp Fees 001" in nameText
		And I enter "PORT01" in codeText
		And I click FundMUDrp
		And I click directPAM
		And I click fundMI
		And I click fundMIValue
		And I click PortMU
		And I click slamDE
		And I click fundDomicile
		And I click fundDomicileValue
		And I click fundCurrency
		And I click fundCurrencyValue
		And I type "02.10.2019" in launchDate
		And I type "05.06.2023" in closingDate
		And I click businessLine
		And I click businessLinevalue	
		And I click assetClass
		And I click assetClassValue
		And I click clientType
		And I click clientTypeValue
		And I click productType
		And I click productTypeValue
		And I click productCategory
		And I click productCategoryValue
		And I click predominant
		And I click predominantValue
		And I click region
		And I click regionValue
		And I click portfolioManagerPerson
		And I type "Portfolio Manager Person 1" in portfolioManagerPerson
		And I click portfolioManagerEmail
		And I type "Portfolio.Manager1@swisslife.ch" in portfolioManagerEmail
		And I click fundManagerPerson
		And I type "Portfolio Manager Person 1" in fundManagerPerson
		And I click fundManagerEmail
		And I type "Portfolio.Manager1@swisslife.ch" in fundManagerEmail
	#	And I press tab in fundManagerEmail
		And I check fundCon
		And I check active
		And I wait 3 seconds
		And I click saveBtn
		And I wait 4 seconds
@StepDef
@Context
Scenario: MTP Allocation for fund TPAM existed in the DB
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/allocation/create"
        And I maximize the window
		And I wait 5 seconds
        And mtpYear can be located by css selector "dx-select-box#mtpYear > .dx-dropdowneditor-input-wrapper.dx-selectbox-container input[role='combobox']"
#2019
		And mtpYearValue2019 can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
 		And mtpYearValue2020 can be located by css selector "div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And mtpYearValue2021 can be located by css selector "div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And fundValue can be located by css selector "dx-drop-down-box#fundId > .dx-dropdowneditor-input-wrapper input[role='combobox']"
        And searchFundName can be located by css selector "td:nth-of-type(2) input[role='textbox']"
        And searchFundNameValue can be located by xpath "//body/div//div[@class='dx-popup-content']//dx-data-grid[@role='presentation']/div[@role='grid']/div[6]//table[@role='presentation']/tbody[@role='presentation']/tr[1]/td[2]"
        And ltvValue can be located by css selector "dx-number-box#ltv input[role='spinbutton']"
        And MgmtValue can be located by css selector "div#mgmtFee input[role='spinbutton']"
        And acquisValue can be located by css selector "div#acquisFee input[role='spinbutton']"
        And dispValue can be located by css selector "div#dispFee input[role='spinbutton']"
        And reSector1 can be located by css selector "div#reSector1 input[role='combobox']"
        And reSector1Value can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And reSector1Percent can be located by css selector "div#reSector1Val input[role='spinbutton']"   
        And reSector2 can be located by id "reSector2"
        And reSector2Value can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And reSector2Percent can be located by css selector "div#reSector2Val input[role='spinbutton']"      
        And reSector3 can be located by id "reSector3"
        And reSector3Value can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And reSector3Percent can be located by css selector "div#reSector3Val input[role='spinbutton']"
        And reSector4 can be located by id "reSector4"
        And reSector4Value can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And reSector4Percent can be located by css selector "div#reSector4Val input[role='spinbutton']"
        And byCH can be located by css selector "div#distByCH input[role='spinbutton']"
        And byDE can be located by css selector "div#distByDE input[role='spinbutton']"
        And byFR can be located by css selector "div#distByFr input[role='spinbutton']"
        And byGB can be located by css selector "div#distByGb input[role='spinbutton']"
        And byInt can be located by css selector "div#distByInt input[role='spinbutton']"
        And byExternal can be located by css selector "div#distByExternal input[role='spinbutton']"
        And mMgtFeeSplit can be located by id "mgmtFeeSplit"
		And saveButton can be located by css selector "div#save-button  .dx-button-text"
        And searchPresetName can be located by css selector "[data-bind] [aria-selected='false']:nth-of-type(1) .dx-texteditor-input"
        And searchPresetNameValue can be located by xpath "//body/div//div[@class='dx-popup-content']//dx-data-grid[@role='presentation']/div[@role='grid']/div[6]//table[@role='presentation']/tbody[@role='presentation']/tr[1]/td[1]"
        And feeSplitDrp can be located by css selector "dx-drop-down-box#mgmtFeeSplit > .dx-dropdowneditor-input-wrapper div[role='button']  .dx-dropdowneditor-icon"
		And feeSplitValue can be located by css selector "[data-bind] [role='row']:nth-of-type(1) [aria-describedby='dx-col-7']"
#Action:		
		And I click mtpYear
        And I click mtpYearValue2021
        And I click fundValue
        And I click searchFundName
        And I type "Check Disp Fees 001" in searchFundName
		And I wait 4 seconds
        And I click searchFundNameValue
        And I type "0.1" in ltvValue
        And I type "0.65" in MgmtValue
        And I type "0.2" in acquisValue
        And I type "0.3" in dispValue
        And I click reSector1
        And I click reSector1Value
        And I type "100" in reSector1Percent
        And I type "100" in byCH
		And I wait 3 seconds
		And I click saveButton
		And I wait 5 seconds
@StepDef
@Context
Scenario: I open to MTP Period Calculation screen
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/configuration/mtp-periods-cal"
        And I maximize the window
		And I wait 3 seconds
@StepDef
@Action 
Scenario: I uncheck Disposal Fees calculation for Fund
		Given srMtpYear can be located by css selector "input[role='spinbutton']"
		And dropdown can be located by css selector "td:nth-of-type(1) > .dx-datagrid-group-closed"
		And srFundPe can be located by css selector "input[role='textbox']"
		And dispBox can be located by css selector "td:nth-of-type(3) > div[role='checkbox']  .dx-checkbox-icon"
		And yesCf can be located by css selector ".btnDiv > button:nth-of-type(1)"
		When I click srMtpYear
		And I type "2021" in srMtpYear
		And I wait 2 seconds
		And I click dropdown
		And I click srFundPe
		And I type "Check Disp Fees 001" in srFundPe
		And I wait 2 seconds
		And I click dispBox
		And I click yesCf
		And I wait 3 seconds		
@StepDef
@Action 
Scenario: I create MTP Fee with input Disposal Fees
		Given mtpYDrp2C can be located by css selector "[class='dx-first-row dx-first-col dx-field-item dx-col-0 dx-field-item-optional dx-flex-layout'] [aria-haspopup]"
		And 2024Value2C can be located by css selector "div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And budY can be located by css selector "div:nth-of-type(1) > .dx-box.dx-box-flex.dx-box-item-content.dx-collection.dx-item-content.dx-visibility-change-handler.dx-widget > div:nth-of-type(2) > .dx-box-item-content.dx-item-content .dx-dropdowneditor.dx-dropdowneditor-button-visible.dx-dropdowneditor-field-clickable.dx-editor-outlined.dx-selectbox.dx-show-invalid-badge.dx-textbox div[role='button']  .dx-dropdowneditor-icon"
		And bud25Value2C can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
		And fundDrpC can be located by css selector "dx-drop-down-box#fundId > .dx-dropdowneditor-input-wrapper div[role='button']  .dx-dropdowneditor-icon"
		And srFund2CreateC can be located by css selector "td:nth-of-type(2) input[role='textbox']"
		And resultF2CrC can be located by css selector "div:nth-of-type(6) table[role='presentation'] > tbody[role='presentation'] > tr[role='row'] > td:nth-of-type(2)"
		And AssetMUDrp can be located by css selector "[valueexpr='value'] .dx-dropdowneditor-icon"
		And valueAsset can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And saveCreateFund2C can be located by css selector "div#save-button > .dx-button-content"
#fields:
		And disposalBox can be located by css selector "div#disposal-fee-field input[role='spinbutton']"
		And lettingBox can be located by css selector "div#letting-fee-field input[role='spinbutton']"
		And subsBox can be located by css selector "div#subscription-fee-field input[role='spinbutton']"
		And perfomanceBox can be located by css selector "div#performance-fee-field input[role='spinbutton']"
		And constructBox can be located by css selector "div#construction-fee-field input[role='spinbutton']"
		And proMgmtBox can be located by css selector "div#pro-mgmt-fee-field input[role='spinbutton']"
		And otherAMBox can be located by css selector "div#rec-fee-other-am-field input[role='spinbutton']"
		And otherPMBox can be located by css selector "div#rec-fee-other-pm-field input[role='spinbutton']"
		And otherFMBox can be located by css selector "div#rec-fee-other-fm-field input[role='spinbutton']"
		When I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/fee-absolute/create"
		And I maximize the window
		And I click mtpYDrp2C
		And I click 2024Value2C
		And I click budY
		And I click bud25Value2C
		And I click fundDrpC
		And I click srFund2CreateC
		And I type "Check Disp Fees 001" in srFund2CreateC
		And I wait 3 seconds
		And I click resultF2CrC
		And I click AssetMUDrp
		And I click valueAsset
		And I wait 3 seconds
		And I type "60" in disposalBox
		And I type "10" in lettingBox
		And I type "10" in subsBox
		And I type "10" in perfomanceBox
		And I type "10" in constructBox
		And I type "10" in proMgmtBox
		And I type "10" in otherAMBox
		And I type "10" in otherPMBox
		And I type "10" in otherFMBox
		And I click saveCreateFund2C
		And I wait 2 seconds
@StepDef
@Action 
Scenario: I create MTP NNA with this Fund TPAM
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/budget/index"
        And I maximize the window
        And addItemButton can be located by id "add-button"
        And mtpYr can be located by id "mtpYear"
        And budYr can be located by id "budYear"
        And fund can be located by id "fundId"
        And searchFundName can be located by css selector "td:nth-of-type(2) input[role='textbox']"
        And searchFundNameValue can be located by css selector ".dx-popup-content  dx-data-grid[role='presentation'] > div[role='grid'] > div:nth-of-type(6) table[role='presentation'] > tbody[role='presentation'] > tr:nth-of-type(1) > td:nth-of-type(2)"
        And assetLocation can be located by id "assetLocationId"
        And assetManagerUnit can be located by id "assetManagerUnit"
        And inNNADirect can be located by id "inDirect"
        And inNNADebt can be located by id "inDebt"
        And inNNAPAMCHRemit can be located by id "inPAMCHRemitCapital"
        And inNNAPAMCHInvestm can be located by id "inPAMCHInvestm"
        And inNNAPAMFRRemit can be located by id "inPAMFRRemitCapital"
        And inNNAPAMFRInvestm can be located by id "inPAMFRInvestm"
        And inNNAPAMDEInvestm can be located by id "inPAMDEInvestm"
        And nnaSalesCommit can be located by id "inSaleCommittment"
        And acquisitions can be located by id "inAcquisitions"
        And revaluation can be located by id "inRevaluation"
        And construction can be located by id "inConstruction"
        And otherAssets can be located by id "inOtherAssets"
        And outNNADirect can be located by id "outDirect"
        And outNNADebt can be located by id "outDebt"
        And outNNAPAMCHRemit can be located by id "outPAMCHRemitCapital"
        And outNNAPAMCHInvestm can be located by id "outPAMCHInvestm"
        And outNNAPAMFRRemit can be located by id "outPAMFRRemitCapital"
        And outNNAPAMFRInvestm can be located by id "outPAMFRInvestm"
        And outNNAPAMDEInvestm can be located by id "outPAMDEInvestm"
        And disposal can be located by id "outDisposals"
        And otherAssets2 can be located by id "outOtherAssets"
#Get value for dropdown
        And mtpYrValue can be located by css selector "div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And budYrValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
        And assetLocationValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
        And assetManagerValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
        And saveNNA can be located by css selector "div#save-button  .dx-button-text"
		When I click addItemButton
		And I wait 3 seconds
        And I click mtpYr
        And I click mtpYrValue
        And I click budYr
        And I click budYrValue
        And I press tab in budYr
        And I click fund
        And I click searchFundName
        And I type "Check Disp Fees 001" in searchFundName
		And I wait 2 seconds
        And I click searchFundNameValue
        And I click assetLocation
        And I click assetLocationValue
        And I click assetManagerUnit
        And I click assetManagerValue
        And I click inNNADirect
        And I type "61" in inNNADirect
        And I click inNNADebt
        And I type "62" in inNNADebt
        And I click inNNAPAMCHRemit
        And I type "63" in inNNAPAMCHRemit
        And I click inNNAPAMCHInvestm
        And I type "64" in inNNAPAMCHInvestm
        And I click inNNAPAMFRRemit
        And I type "65" in inNNAPAMFRRemit       
        And I click inNNAPAMFRInvestm
        And I type "66" in inNNAPAMFRInvestm
        And I click inNNAPAMDEInvestm
        And I type "67" in inNNAPAMDEInvestm
        And I click nnaSalesCommit
        And I type "1" in nnaSalesCommit
        And I click acquisitions
        And I type "85" in acquisitions
        And I click revaluation
        And I type "125" in revaluation
        And I click construction
        And I type "120" in construction
        And I click otherAssets
        And I type "118" in otherAssets
#Get value for dropdown
        And I click outNNADirect
        And I type "21" in outNNADirect
        And I click outNNADebt
        And I type "22" in outNNADebt
        And I click outNNAPAMCHRemit
        And I type "23" in outNNAPAMCHRemit
        And I click outNNAPAMCHInvestm
        And I type "24" in outNNAPAMCHInvestm
        And I click outNNAPAMFRRemit
        And I type "25" in outNNAPAMFRRemit       
        And I click outNNAPAMFRInvestm
        And I type "26" in outNNAPAMFRInvestm
        And I click outNNAPAMDEInvestm
        And I type "27" in outNNAPAMDEInvestm
        And I click disposal
        And I type "28" in disposal
        And I click otherAssets2
        And I type "140" in otherAssets2
        And I press tab in otherAssets2
		And I click saveNNA
		And I wait 5 seconds
@StepDef
@Assertion
Scenario: The Disposal Fees is shown correctly in infor panel and masterview
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/budget/index"
		And I maximize the window
		And srFundNNA can be located by css selector "div:nth-of-type(1) > table[role='presentation'] > tbody > tr:nth-of-type(4) > td:nth-of-type(3) input[role='textbox']"
		And I wait 5 seconds
		When I click srFundNNA
		And I type "Check Disp Fees 001" in srFundNNA
		And I wait 5 seconds
#Scenario: Check Disposal Fee after adjust Disposal Fee in MTP Fee
@StepDef
@Context
Scenario: A Fund 2 existed in the database
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/fund/create"
		And I maximize the window
		And I wait 6 seconds
		And nameText can be located by css selector "#nameId input[role='textbox']"
		And codeText can be located by css selector "#codeId input[role='textbox']"
		And FundMUDrp can be located by css selector "#fundMgrUnitArea .dx-dropdowneditor-icon"
		And fundMI can be located by css selector "#fundManagerUnitId [aria-haspopup]"
		And fundMIValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(4) > .dx-item-content.dx-list-item-content"
		And PortMU can be located by css selector "#portfolioManagerUnitId .dx-dropdowneditor-icon"
		And fundDomicile can be located by id "fundDomicileId"
		And fundCurrency can be located by id "fundCurrencyId"
		And launchDate can be located by css selector "#launchDateId [aria-haspopup]"
		And closingDate can be located by css selector "#closingDateId [aria-haspopup]"
		And businessLine can be located by css selector "#businessLineId [aria-haspopup]"
		And assetClass can be located by css selector "#assetClassId [aria-haspopup]"
		And clientType can be located by css selector "#clientTypeId [aria-haspopup]"
        And productType can be located by css selector "#productTypeId [aria-haspopup]"
		And productCategory can be located by css selector "#productCategoryREId [aria-haspopup]"
        And predominant can be located by css selector "#predominantRESectorId [aria-haspopup]"
		And region can be located by css selector "#regionId [aria-haspopup]"
		And portfolioManagerPerson can be located by css selector "#pm-name input[role='textbox']"		
		And portfolioManagerEmail can be located by css selector "#pm-email input[role='textbox']"
		And fundManagerPerson can be located by css selector "div#fm-name > .dx-editor-outlined.dx-show-invalid-badge.dx-textbox.dx-texteditor.dx-texteditor-empty.dx-validator.dx-visibility-change-handler.dx-widget input[role='textbox']"		
		And fundManagerEmail can be located by css selector "div#fm-email > .dx-editor-outlined.dx-show-invalid-badge.dx-textbox.dx-texteditor.dx-texteditor-empty.dx-validator.dx-visibility-change-handler.dx-widget input[role='textbox']"
		And ruCode can be located by css selector "#ruCodeId [type]"
		And fundCon can be located by css selector "dx-check-box#fundConsolidationCheckbox  .dx-checkbox-icon"
		And active can be located by css selector "dx-check-box#active-fund  .dx-checkbox-icon"
		And saveBtn can be located by id "saveBtn"
#Get value for dropdown:
		And directPAM can be located by css selector "div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
		And slamDE can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
		And fundDomicileValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And fundCurrencyValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And launchDateValue can be located by css selector ".dx-calendar-today span"
		And businessLinevalue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
		And assetClassValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And clientTypeValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And productTypeValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And productCategoryValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And predominantValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(3) > .dx-item-content.dx-list-item-content"
		And regionValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
#Action:		
		When I click nameText
		And I enter "Check Disp Fees 002" in nameText
		And I enter "PORT01" in codeText
		And I click FundMUDrp
		And I click directPAM
		And I click fundMI
		And I click fundMIValue
		And I click PortMU
		And I click slamDE
		And I click fundDomicile
		And I click fundDomicileValue
		And I click fundCurrency
		And I click fundCurrencyValue
		And I type "02.10.2019" in launchDate
		And I type "05.06.2023" in closingDate
		And I click businessLine
		And I click businessLinevalue	
		And I click assetClass
		And I click assetClassValue
		And I click clientType
		And I click clientTypeValue
		And I click productType
		And I click productTypeValue
		And I click productCategory
		And I click productCategoryValue
		And I click predominant
		And I click predominantValue
		And I click region
		And I click regionValue
		And I click portfolioManagerPerson
		And I type "Portfolio Manager Person 1" in portfolioManagerPerson
		And I click portfolioManagerEmail
		And I type "Portfolio.Manager1@swisslife.ch" in portfolioManagerEmail
		And I click fundManagerPerson
		And I type "Portfolio Manager Person 1" in fundManagerPerson
		And I click fundManagerEmail
		And I type "Portfolio.Manager1@swisslife.ch" in fundManagerEmail
#		And I press tab in fundManagerEmail
		And I check fundCon
		And I check active
		And I wait 3 seconds
		And I click saveBtn
		And I wait 4 seconds
@StepDef
@Context
Scenario: MTP Allocation for fund 2 existed in the DB
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/allocation/create"
        And I maximize the window
		And I wait 5 seconds
        And mtpYear can be located by css selector "dx-select-box#mtpYear > .dx-dropdowneditor-input-wrapper.dx-selectbox-container input[role='combobox']"
#2019
		And mtpYearValue2019 can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
 		And mtpYearValue2020 can be located by css selector "div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And mtpYearValue2021 can be located by css selector "div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And fundValue can be located by css selector "dx-drop-down-box#fundId > .dx-dropdowneditor-input-wrapper input[role='combobox']"
        And searchFundName can be located by css selector "td:nth-of-type(2) input[role='textbox']"
        And searchFundNameValue can be located by xpath "//body/div//div[@class='dx-popup-content']//dx-data-grid[@role='presentation']/div[@role='grid']/div[6]//table[@role='presentation']/tbody[@role='presentation']/tr[1]/td[2]"
        And ltvValue can be located by css selector "dx-number-box#ltv input[role='spinbutton']"
        And MgmtValue can be located by css selector "div#mgmtFee input[role='spinbutton']"
        And acquisValue can be located by css selector "div#acquisFee input[role='spinbutton']"
        And dispValue can be located by css selector "div#dispFee input[role='spinbutton']"
        And reSector1 can be located by css selector "div#reSector1 input[role='combobox']"
        And reSector1Value can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And reSector1Percent can be located by css selector "div#reSector1Val input[role='spinbutton']"   
        And reSector2 can be located by id "reSector2"
        And reSector2Value can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And reSector2Percent can be located by css selector "div#reSector2Val input[role='spinbutton']"      
        And reSector3 can be located by id "reSector3"
        And reSector3Value can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And reSector3Percent can be located by css selector "div#reSector3Val input[role='spinbutton']"
        And reSector4 can be located by id "reSector4"
        And reSector4Value can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And reSector4Percent can be located by css selector "div#reSector4Val input[role='spinbutton']"
        And byCH can be located by css selector "div#distByCH input[role='spinbutton']"
        And byDE can be located by css selector "div#distByDE input[role='spinbutton']"
        And byFR can be located by css selector "div#distByFr input[role='spinbutton']"
        And byGB can be located by css selector "div#distByGb input[role='spinbutton']"
        And byInt can be located by css selector "div#distByInt input[role='spinbutton']"
        And byExternal can be located by css selector "div#distByExternal input[role='spinbutton']"
        And mMgtFeeSplit can be located by id "mgmtFeeSplit"
		And saveButton can be located by css selector "div#save-button  .dx-button-text"
        And searchPresetName can be located by css selector "[data-bind] [aria-selected='false']:nth-of-type(1) .dx-texteditor-input"
        And searchPresetNameValue can be located by xpath "//body/div//div[@class='dx-popup-content']//dx-data-grid[@role='presentation']/div[@role='grid']/div[6]//table[@role='presentation']/tbody[@role='presentation']/tr[1]/td[1]"
        And feeSplitDrp can be located by css selector "dx-drop-down-box#mgmtFeeSplit > .dx-dropdowneditor-input-wrapper div[role='button']  .dx-dropdowneditor-icon"
		And feeSplitValue can be located by css selector "[data-bind] [role='row']:nth-of-type(1) [aria-describedby='dx-col-7']"
#Action:		
		And I click mtpYear
        And I click mtpYearValue2021
        And I click fundValue
        And I click searchFundName
        And I type "Check Disp Fees 002" in searchFundName
		And I wait 4 seconds
        And I click searchFundNameValue
        And I type "0.1" in ltvValue
        And I type "0.65" in MgmtValue
        And I type "0.2" in acquisValue
        And I type "0.3" in dispValue
        And I click reSector1
        And I click reSector1Value
        And I type "100" in reSector1Percent
        And I type "100" in byCH
		And I wait 3 seconds
		And I click saveButton
		And I wait 5 seconds
@StepDef
@Context
Scenario: MTP Fee for fund 2 existed in the DB
		Given mtpYDrp2C can be located by css selector "[class='dx-first-row dx-first-col dx-field-item dx-col-0 dx-field-item-optional dx-flex-layout'] [aria-haspopup]"
		And 2024Value2C can be located by css selector "div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And budY can be located by css selector "div:nth-of-type(1) > .dx-box.dx-box-flex.dx-box-item-content.dx-collection.dx-item-content.dx-visibility-change-handler.dx-widget > div:nth-of-type(2) > .dx-box-item-content.dx-item-content .dx-dropdowneditor.dx-dropdowneditor-button-visible.dx-dropdowneditor-field-clickable.dx-editor-outlined.dx-selectbox.dx-show-invalid-badge.dx-textbox div[role='button']  .dx-dropdowneditor-icon"
		And bud25Value2C can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
		And fundDrpC can be located by css selector "dx-drop-down-box#fundId > .dx-dropdowneditor-input-wrapper div[role='button']  .dx-dropdowneditor-icon"
		And srFund2CreateC can be located by css selector "td:nth-of-type(2) input[role='textbox']"
		And resultF2CrC can be located by css selector "div:nth-of-type(6) table[role='presentation'] > tbody[role='presentation'] > tr[role='row'] > td:nth-of-type(2)"
		And AssetMUDrp can be located by css selector "[valueexpr='value'] .dx-dropdowneditor-icon"
		And valueAsset can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
		And saveCreateFund2C can be located by css selector "div#save-button > .dx-button-content"
#fields:
		And disposalBox can be located by css selector "div#disposal-fee-field input[role='spinbutton']"
		And lettingBox can be located by css selector "div#letting-fee-field input[role='spinbutton']"
		And subsBox can be located by css selector "div#subscription-fee-field input[role='spinbutton']"
		And perfomanceBox can be located by css selector "div#performance-fee-field input[role='spinbutton']"
		And constructBox can be located by css selector "div#construction-fee-field input[role='spinbutton']"
		And proMgmtBox can be located by css selector "div#pro-mgmt-fee-field input[role='spinbutton']"
		And otherAMBox can be located by css selector "div#rec-fee-other-am-field input[role='spinbutton']"
		And otherPMBox can be located by css selector "div#rec-fee-other-pm-field input[role='spinbutton']"
		And otherFMBox can be located by css selector "div#rec-fee-other-fm-field input[role='spinbutton']"
		When I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/fee-absolute/create"
		And I maximize the window
		And I click mtpYDrp2C
		And I click 2024Value2C
		And I click budY
		And I click bud25Value2C
		And I click fundDrpC
		And I click srFund2CreateC
		And I type "Check Disp Fees 002" in srFund2CreateC
		And I wait 3 seconds
		And I click resultF2CrC
		And I click AssetMUDrp
		And I click valueAsset
		And I wait 3 seconds
#		And I type "80" in disposalBox
		And I type "20" in lettingBox
		And I type "20" in subsBox
		And I type "20" in perfomanceBox
		And I type "20" in constructBox
		And I type "20" in proMgmtBox
		And I type "20" in otherAMBox
		And I type "20" in otherPMBox
		And I type "20" in otherFMBox
		And I click saveCreateFund2C
		And I wait 2 seconds
@StepDef
@Context
Scenario: MTP NNA for fund 2 existed in the DB
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/budget/index"
        And I maximize the window
        And addItemButton can be located by id "add-button"
        And mtpYr can be located by id "mtpYear"
        And budYr can be located by id "budYear"
        And fund can be located by id "fundId"
        And searchFundName can be located by css selector "td:nth-of-type(2) input[role='textbox']"
        And searchFundNameValue can be located by css selector ".dx-popup-content  dx-data-grid[role='presentation'] > div[role='grid'] > div:nth-of-type(6) table[role='presentation'] > tbody[role='presentation'] > tr:nth-of-type(1) > td:nth-of-type(2)"
        And assetLocation can be located by id "assetLocationId"
        And assetManagerUnit can be located by id "assetManagerUnit"
        And inNNADirect can be located by id "inDirect"
        And inNNADebt can be located by id "inDebt"
        And inNNAPAMCHRemit can be located by id "inPAMCHRemitCapital"
        And inNNAPAMCHInvestm can be located by id "inPAMCHInvestm"
        And inNNAPAMFRRemit can be located by id "inPAMFRRemitCapital"
        And inNNAPAMFRInvestm can be located by id "inPAMFRInvestm"
        And inNNAPAMDEInvestm can be located by id "inPAMDEInvestm"
        And nnaSalesCommit can be located by id "inSaleCommittment"
        And acquisitions can be located by id "inAcquisitions"
        And revaluation can be located by id "inRevaluation"
        And construction can be located by id "inConstruction"
        And otherAssets can be located by id "inOtherAssets"
        And outNNADirect can be located by id "outDirect"
        And outNNADebt can be located by id "outDebt"
        And outNNAPAMCHRemit can be located by id "outPAMCHRemitCapital"
        And outNNAPAMCHInvestm can be located by id "outPAMCHInvestm"
        And outNNAPAMFRRemit can be located by id "outPAMFRRemitCapital"
        And outNNAPAMFRInvestm can be located by id "outPAMFRInvestm"
        And outNNAPAMDEInvestm can be located by id "outPAMDEInvestm"
        And disposal can be located by id "outDisposals"
        And otherAssets2 can be located by id "outOtherAssets"
#Get value for dropdown
        And mtpYrValue can be located by css selector "div:nth-of-type(2) > .dx-item-content.dx-list-item-content"
        And budYrValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
        And assetLocationValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
        And assetManagerValue can be located by css selector ".dx-dropdownlist-popup-wrapper.dx-popup-wrapper.dx-selectbox-popup-wrapper  .dx-popup-content > div[role='listbox'] .dx-scrollview-content > div:nth-of-type(1) > .dx-item-content.dx-list-item-content"
        And saveNNA can be located by css selector "div#save-button  .dx-button-text"
		When I click addItemButton
		And I wait 3 seconds
        And I click mtpYr
        And I click mtpYrValue
        And I click budYr
        And I click budYrValue
        And I press tab in budYr
        And I click fund
        And I click searchFundName
        And I type "Check Disp Fees 002" in searchFundName
		And I wait 2 seconds
        And I click searchFundNameValue
        And I click assetLocation
        And I click assetLocationValue
        And I click assetManagerUnit
        And I click assetManagerValue
        And I click inNNADirect
        And I type "61" in inNNADirect
        And I click inNNADebt
        And I type "62" in inNNADebt
        And I click inNNAPAMCHRemit
        And I type "63" in inNNAPAMCHRemit
        And I click inNNAPAMCHInvestm
        And I type "64" in inNNAPAMCHInvestm
        And I click inNNAPAMFRRemit
        And I type "65" in inNNAPAMFRRemit       
        And I click inNNAPAMFRInvestm
        And I type "66" in inNNAPAMFRInvestm
        And I click inNNAPAMDEInvestm
        And I type "67" in inNNAPAMDEInvestm
        And I click nnaSalesCommit
        And I type "1" in nnaSalesCommit
        And I click acquisitions
        And I type "85" in acquisitions
        And I click revaluation
        And I type "125" in revaluation
        And I click construction
        And I type "120" in construction
        And I click otherAssets
        And I type "118" in otherAssets
#Get value for dropdown
        And I click outNNADirect
        And I type "21" in outNNADirect
        And I click outNNADebt
        And I type "22" in outNNADebt
        And I click outNNAPAMCHRemit
        And I type "23" in outNNAPAMCHRemit
        And I click outNNAPAMCHInvestm
        And I type "24" in outNNAPAMCHInvestm
        And I click outNNAPAMFRRemit
        And I type "25" in outNNAPAMFRRemit       
        And I click outNNAPAMFRInvestm
        And I type "26" in outNNAPAMFRInvestm
        And I click outNNAPAMDEInvestm
        And I type "27" in outNNAPAMDEInvestm
        And I click disposal
        And I type "28" in disposal
        And I click otherAssets2
        And I type "140" in otherAssets2
        And I press tab in otherAssets2
		And I click saveNNA
		And I wait 4 seconds
@StepDef
@Action 
Scenario: I uncheck Disposal Fee calculation of Fund 2
		Given srMtpYear can be located by css selector "input[role='spinbutton']"
		And dropdown can be located by css selector "td:nth-of-type(1) > .dx-datagrid-group-closed"
		And srFundPe can be located by css selector "input[role='textbox']"
		And dispBox can be located by css selector "td:nth-of-type(3) > div[role='checkbox']  .dx-checkbox-icon"
		And yesCf can be located by css selector ".btnDiv > button:nth-of-type(1)"
		When I click srMtpYear
		And I type "2021" in srMtpYear
		And I wait 2 seconds
		And I click dropdown
		And I click srFundPe
		And I type "Check Disp Fees 002" in srFundPe
		And I wait 2 seconds
		And I click dispBox
		And I click yesCf
		And I wait 3 seconds
@StepDef
@Action 
Scenario: I click edit MTP Fee
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/fee-absolute/index"
        And I maximize the window
		And srFunfFee can be located by css selector "div:nth-of-type(1) > table[role='presentation'] > tbody > tr:nth-of-type(2) > td:nth-of-type(3) input[role='textbox']"
		And editFeeBtn can be located by css selector ".dx-datagrid-content.dx-datagrid-content-fixed > table[role='presentation']  tr[role='row'] > td:nth-of-type(2) > a[title='Edit']"
		When I click srFunfFee
		And I type "Check Disp Fees 002" in srFunfFee
		And I wait 2 seconds
		And I click editFeeBtn
		And I wait 4 seconds
@StepDef
@Action 
Scenario: I input Disposal Fee
		Given disposalBox can be located by css selector "div#disposal-fee-field input[role='spinbutton']"
		When I type "80" in disposalBox
		And I wait 2 seconds
@StepDef
@Action 
Scenario: I click save button
		Given saveEditBtn can be located by css selector "div#save-button  .dx-button-text"
		When I click saveEditBtn
		And I wait 4 seconds
@StepDef
@Assertion
Scenario: The Disposal Fee in infor panel is shown correctly
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/fee-absolute/index"
        And I maximize the window
		And srFundFee can be located by css selector "div:nth-of-type(1) > table[role='presentation'] > tbody > tr:nth-of-type(2) > td:nth-of-type(3) input[role='textbox']"
		And I wait 4 seconds
		When I click srFundFee
		And I type "Check Disp Fees 002" in srFundFee
		And I wait 4 seconds
#Scenario: Check auto calculation when automatically calculation Disposal Fee is set in MTP Period
@StepDef
@Context
Scenario: I see Disposal Fee calculation for Fund TPAM is unchecked
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/configuration/mtp-periods-cal"
        And I maximize the window
		And I wait 3 seconds
		And srMtpYear can be located by css selector "input[role='spinbutton']"
		And dropdown can be located by css selector "td:nth-of-type(1) > .dx-datagrid-group-closed"
		And srFundPe can be located by css selector "input[role='textbox']"
		And dispBox can be located by css selector "td:nth-of-type(3) > div[role='checkbox']  .dx-checkbox-icon"
		And yesCf can be located by css selector ".btnDiv > button:nth-of-type(1)"
		When I click srMtpYear
		And I type "2021" in srMtpYear
		And I wait 2 seconds
		And I click dropdown
		And I click srFundPe
		And I type "Check Disp Fees 001" in srFundPe
		And I wait 2 seconds
@StepDef
@Action 
Scenario: I check Disposal Fee calculation of Fund TPAM in MTP NNA master and detail view for 2 Asset Location
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/budget/index"
        And I maximize the window
		And I wait 3 seconds
		And srFundNNA2 can be located by css selector "div:nth-of-type(1) > table[role='presentation'] > tbody > tr:nth-of-type(4) > td:nth-of-type(3) input[role='textbox']"
		And dropdownFundN can be located by css selector "tr:nth-of-type(1) > td:nth-of-type(2) > .dx-datagrid-group-closed"
		When I click srFundNNA2
		And I type "Check Disp Fees 001" in srFundNNA2
		And I wait 3 seconds
		And I click dropdownFundN
		And I wait 3 seconds
@StepDef
@Action 
Scenario: The Disposal Fee calculation of 2 Asset Location are calculated correctly
		Given editNNAFund can be located by css selector "app-detail .dx-datagrid-content-fixed [title='Edit']"
		When editNNAFund should be displayed
		And I click editNNAFund
@StepDef
@Action 
Scenario: I click Edit MTP NNA of Fund TPAM for Asset Location 1
		Given dispEdit can be located by css selector "div#outDisposals input[role='spinbutton']"
		And refreshBtn can be located by css selector "dx-button[role='button']  .dx-button-text"
		And outInvest can be located by css selector "div#outPAMCHInvestm input[role='spinbutton']"
		And saveEditNNABtn can be located by css selector "div#save-button  .dx-button-text"
		When I clear dispEdit
		And I type "58" in dispEdit
		And I clear outInvest
		And I type "54" in outInvest
		And I click refreshBtn
		And I click refreshBtn
		And I wait 4 seconds
		And I click saveEditNNABtn
		And I wait 3 seconds
@StepDef
@Assertion
Scenario: The Disposal Fee in info panel of Asset Location level and Fund level for Asset Location 1 are auto-updated correctly
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/budget/index"
        And I maximize the window
		And I wait 3 seconds
		And srFundNNA2 can be located by css selector "div:nth-of-type(1) > table[role='presentation'] > tbody > tr:nth-of-type(4) > td:nth-of-type(3) input[role='textbox']"
		And dropdownFund can be located by css selector "tr:nth-of-type(1) > td:nth-of-type(2) > .dx-datagrid-group-closed"
		When I click srFundNNA2
		And I type "Check Disp Fees 001" in srFundNNA2
		And I wait 3 seconds
		And I click dropdownFund
		And I wait 3 seconds
@StepDef
@Assertion
Scenario: The Disposal Fee in info panel of Asset Location level and Fund level for Asset Location 2 are auto-updated correctly
		Given I navigate to "https://d-we-ipt-01-webapp.azurewebsites.net/budget/index"
        And I maximize the window
		And I wait 3 seconds
		And srFundNNA2 can be located by css selector "div:nth-of-type(1) > table[role='presentation'] > tbody > tr:nth-of-type(4) > td:nth-of-type(3) input[role='textbox']"
		And dropdownFund can be located by css selector "tr:nth-of-type(1) > td:nth-of-type(2) > .dx-datagrid-group-closed"
		When I click srFundNNA2
		And I type "Check Disp Fees 001" in srFundNNA2
		And I wait 3 seconds
		And I click dropdownFund
		And I wait 3 seconds